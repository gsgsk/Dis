import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;

import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;

public class MarkupLan {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		//System.out.println("Hello World!!!");
		
		
		//https://www.mkyong.com/java/json-simple-example-read-and-write-json/
		JSONParser parser = new JSONParser();
		
		Object obj;
		try {
			obj = parser.parse (new FileReader("/home/csc/Desktop/Dissertation/abc/dump.json"));
			
			JSONArray json = (JSONArray) obj;
			//System.out.println(json);
			
			JSONObject jsonObj = new JSONObject();
			JSONObject source = new JSONObject();
			JSONObject layers = new JSONObject();
			
			for (int i = 0; i < json.size(); i++)
			{
				System.out.println(i);
				//System.out.println(json[i].);
				jsonObj = (JSONObject) json.get(i);
				//System.out.println(jsonObj.get("_source"));
				source = (JSONObject) jsonObj.get("_source");
				//System.out.println(source);
				layers = (JSONObject) source.get("layers");
				System.out.println(layers);
				
				if (layers.containsKey("arp"))
				{
					System.out.println(layers.get("arp"));
				}
			}
			
		} catch (FileNotFoundException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (ParseException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	}

}
